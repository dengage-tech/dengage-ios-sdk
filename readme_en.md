# Dengage iOS SDK


## Table of Contents

- [Requirements](#requirements)
- [iOS SDK Setup](#ios-sdk-setup)
  - [Requirements](#requirements)
  - [Integration Methods](#integration-methods)
- [Implementing the SDK](#implementing-the-sdk)



- [Initialization](#initialization)
- [Public Methods](#public-methods)
  - [Register Device Token](#register-device-token)
  - [Set Contact Key](#set-contact-key)
  - [Sync SDK](#sync-sdk)
  - [Handle Notification](#handle-notification)
  - [Track Event](#track-event)

## iOS SDK Setup

### Requirements

- Dengage [Integration Key](https://dev.dengage.com/reference/ios-sdk-setup#6-defining-ios-application)
- iOS Push [Certificate](https://dev.dengage.com/reference/ios-sdk-setup#5-how-to-create-an-apple-ios-certificate)
- iOS Device (you need to test on a real device for notifications)
- A mac with latest Xcode
- Dengage Mobil SDK for iOS supports version iOS 10 and later.

### Integration Methods

- [CocoaPods Integration](https://dev.dengage.com/reference/ios-sdk-setup)
- [SPM Integration](https://dev.dengage.com/reference/ios-sdk-setupn)
- [Carthage Integration](https://dev.dengage.com/reference/ios-sdk-setup)

#### 1. CocoaPods Integration

**Dengage** is available through CocoaPods.

To install it, simply add the following line to your **Podfile**:

```ruby
pod 'Dengage', '~> 5.75'
```

Run `pod install` via terminal

#### 2. SPM Integration

Installing the iOS SDK via Swift Package Manager (SPM) automates the majority of the installation process for you. Before beginning this process, ensure that you are using Xcode 12 or greater. (Note:Applies to new SDK.)

Open your project and navigate to your project's settings. Select the tab named Swift Packages and click on the add button (+) at the bottom left.

Enter the URL of our iOS SDK repository in the text field and click Add Package.

Paste URL: https://github.com/dengage-tech/dengage-ios-sdk.git

Select the latest branch and You can find the latest released branch here https://github.com/dengage-tech/dengage-ios-sdk/tags

On the next screen, select the SDK version and click Add Package.

Select the package and click finish

#### 3. End Point Configuration

For initial setup, if you have been given URL addresses by Dengage Support Team, you need to set up URL addresses by using `Info.plist` file.

#### 4. Completing the integration

If you are integrating our iOS SDK with CocoaPods, Carthage or SPM add the following line of code to your `AppDelegate.swift`

```swift
import Dengage
```

After installation, you can access SDK's methods by importing

Add the line at the beginning of your code file.


#### 5. How to create an Apple iOS Certificate

#### 6. Defining iOS Application

## Implementing the SDK

Implementing Dengage Mobile SDK for iOS requires the steps below

### Setting Integration Key

Integration Key is generated by CDMP Platform while defining application. It is a hash string that contains information about the application.

At the beginning of your application cycle, you must set Integration Key.

Call this method at the beginning of your application life cycle.

_Recommendation_: Use it on AppDelegate

```swift
Dengage.start(apiKey: String)
```

### Initialization with Launch Options

After

```swift
Dengage.initWithLaunchOptions(categories: Set<UNNotificationCategory>? = nil, application: UIApplication,withLaunchOptions: [UIApplication.LaunchOptionsKey: Any],badgeCountReset: Bool = false, deviceId : String? = nil , contactKey : String? = nil , partnerDeviceId :String? = nil,dengageOptions : DengageOptions = DengageOptions()
```

Parameters:

withLaunchOptions: [UIApplication.LaunchOptionsKey: Any]?:

Pass didFinishLaunchingWithOptions params

badgeCountReset : bool

If you want to reset (clear) badge icon on your notifications set this option to true

Following sample shows how to do that in your AppDelegate.m file:

Sample: In the AppDelegate.m






















<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>
<br>







To add Dengage to your iOS project, follow these steps:

1. Add Dengage as a dependency using CocoaPods or Swift Package Manager.

2. Import Dengage into your project:
   ```swift
   import Dengage
   ```

## Initialization
To initialize Dengage, use the following method in your AppDelegate or SceneDelegate:

```swift
Dengage.shared.initialize(appId: "YOUR_APP_ID", launchOptions: launchOptions)
```
Replace `YOUR_APP_ID` with your actual Dengage App ID.

## Public Methods
Below are the public methods provided by the Dengage iOS SDK and their usage details.

### Register Device Token
Register the device token to enable push notifications:

```swift
Dengage.shared.registerDeviceToken(deviceToken)
```
Pass the `deviceToken` received from the push notification registration process.

### Set Contact Key
Set a unique contact key for identifying a user:

```swift
Dengage.shared.setContactKey(contactKey: "USER_CONTACT_KEY")
```
Replace `USER_CONTACT_KEY` with your user's unique identifier.

### Sync SDK
To manually synchronize the SDK:

```swift
Dengage.shared.sync()
```
This method ensures all pending events are synchronized.

### Handle Notification
To handle an incoming push notification:

```swift
Dengage.shared.handleNotification(userInfo: userInfo)
```
Pass the `userInfo` dictionary from the push notification payload.

### Track Event
To track a specific event (e.g., adding an item to a cart):

```swift
Dengage.shared.trackEvent(eventName: "event_name", parameters: eventParameters)
```
Replace `event_name` with your custom event name, and `eventParameters` with additional event information.

## Additional Information
For more detailed usage and additional public methods, please refer to the [Dengage iOS SDK GitHub repository](https://github.com/dengage-tech/dengage-ios-sdk/blob/version/5.71.2/Sources/Dengage/Dengage.swift).

## License
This SDK is licensed under the [MIT License](https://github.com/dengage-tech/dengage-ios-sdk/blob/version/5.71.2/LICENSE).

